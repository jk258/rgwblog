<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>即墨的个人博客</title>
  
  <subtitle>即墨的个人博客</subtitle>
  <link href="/rgwblog/atom.xml" rel="self"/>
  
  <link href="http://renguowei.gitee.io/rgwblog/"/>
  <updated>2019-05-05T09:51:34.773Z</updated>
  <id>http://renguowei.gitee.io/rgwblog/</id>
  
  <author>
    <name>即墨</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>移动端标尺</title>
    <link href="http://renguowei.gitee.io/rgwblog/2019/05/05/ruler/"/>
    <id>http://renguowei.gitee.io/rgwblog/2019/05/05/ruler/</id>
    <published>2019-05-05T09:29:00.000Z</published>
    <updated>2019-05-05T09:51:34.773Z</updated>
    
    <content type="html"><![CDATA[<p>实现了标尺滑动，加减标尺坐标等功能<br>使用：<br>在html上写一个div盒子，并引用js即可<br>html：<br><a id="more"></a><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=&quot;ruler-box&quot;&gt;&lt;/div&gt;</span><br></pre></td></tr></table></figure></p><p>css：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">#ruler-box&#123;</span><br><span class="line">    width: 80%;</span><br><span class="line">    height: 100px;</span><br><span class="line">    margin: 1.5rem auto;</span><br><span class="line">    position: relative;//必须</span><br><span class="line">    overflow: hidden;//必须</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>js：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">gwrouler(&quot;ruler-box&quot;,&#123;</span><br><span class="line">        maxnum:300,//最大刻度</span><br><span class="line">        num:10,//初始值</span><br><span class="line">        rulerOp:100//标尺上标记的位置</span><br><span class="line">    &#125;)</span><br></pre></td></tr></table></figure></p><p>在<a href="http://renguowei.gitee.io/gwui/animate/ruler/ruler.html">http://renguowei.gitee.io/gwui/animate/ruler/ruler.html</a> 查看效果，请在手机浏览器打开</p><p>最后，贴上源代码<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br></pre></td><td class="code"><pre><span class="line">function gwrouler(id,rulerObj)&#123;</span><br><span class="line">    var maxnum=rulerObj.maxnum||300;//最大刻度</span><br><span class="line">    var num=rulerObj.num||0;//初始值</span><br><span class="line">    var rulerBox=document.getElementById(id);</span><br><span class="line">    var rulerOp=rulerObj.rulerOp||0;//标尺上标记的位置</span><br><span class="line">    //标尺的数字</span><br><span class="line">    var rulerShowBox=document.createElement(&quot;div&quot;);</span><br><span class="line">    rulerShowBox.id=&quot;rulerShow-box&quot;;</span><br><span class="line">    rulerShowBox.innerHTML=&quot;&lt;div id=&apos;ruler-jian&apos; class=&apos;ruler-jiajian&apos;&gt;-&lt;/div&gt;&lt;div id=&apos;rulerShow&apos; style=&apos;margin:0 10px;&apos;&gt;&quot;+num+&quot;&lt;/div&gt;&lt;div id=&apos;ruler-jia&apos; class=&apos;ruler-jiajian&apos;&gt;+&lt;/div&gt;&quot;;</span><br><span class="line">    var rulerShow=&#123;</span><br><span class="line">        &quot;display&quot;: &quot;flex&quot;,</span><br><span class="line">        &quot;justify-content&quot;: &quot;flex-start&quot;,</span><br><span class="line">        &quot;align-items&quot;: &quot;center&quot;,</span><br><span class="line">    &#125;</span><br><span class="line">    addStyle(rulerShowBox,rulerShow);</span><br><span class="line">    rulerBox.appendChild(rulerShowBox);</span><br><span class="line">    var rulerShow=document.getElementById(&quot;rulerShow&quot;);</span><br><span class="line">    //增加减少的样式</span><br><span class="line">    var jiajian=&#123;</span><br><span class="line">        &quot;width&quot;: &quot;20px&quot;,</span><br><span class="line">        &quot;height&quot;: &quot;20px&quot;,</span><br><span class="line">        &quot;text-align&quot;: &quot;center&quot;,</span><br><span class="line">        &quot;line-height&quot;: &quot;20px&quot;,</span><br><span class="line">        &quot;color&quot;: &quot;#fff&quot;,</span><br><span class="line">        &quot;background-color&quot;: &quot;#3385FF&quot;,</span><br><span class="line">        &quot;border-radius&quot;: &quot;100%&quot;</span><br><span class="line">    &#125;</span><br><span class="line">    // 增加</span><br><span class="line">    var rulerjia=document.getElementById(&quot;ruler-jia&quot;);</span><br><span class="line">    addStyle(rulerjia,jiajian);</span><br><span class="line">    rulerjia.onclick=function()&#123;</span><br><span class="line">        if(mycanvas.offsetLeft&lt;=rulerOp&amp;&amp;Math.abs(mycanvas.offsetLeft)&lt;maxnum-rulerOp)&#123;</span><br><span class="line">            mycanvas.style.left=(mycanvas.offsetLeft-10)+&quot;px&quot;;</span><br><span class="line">            rulerShow.innerHTML=(parseInt(rulerShow.innerText)+1);</span><br><span class="line">            distanceEnd=mycanvas.offsetLeft;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    //减去</span><br><span class="line">    var rulerjian=document.getElementById(&quot;ruler-jian&quot;);</span><br><span class="line">    addStyle(rulerjian,jiajian);</span><br><span class="line">    rulerjian.onclick=function()&#123;</span><br><span class="line">        if(mycanvas.offsetLeft&lt;rulerOp&amp;&amp;Math.abs(mycanvas.offsetLeft)&lt;=maxnum-rulerOp)&#123;</span><br><span class="line">            mycanvas.style.left=(mycanvas.offsetLeft+10)+&quot;px&quot;;</span><br><span class="line">            rulerShow.innerHTML=(parseInt(rulerShow.innerText)-1);</span><br><span class="line">            distanceEnd=mycanvas.offsetLeft;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    //标尺上的标记</span><br><span class="line">    var ruler=document.createElement(&quot;div&quot;);</span><br><span class="line">    ruler.id=&quot;ruler&quot;;</span><br><span class="line">    var rulerStyle=&#123;</span><br><span class="line">        // &quot;margin-left&quot;:&quot;50px&quot;,</span><br><span class="line">        &quot;width&quot;: &quot;3px&quot;,</span><br><span class="line">        &quot;height&quot;: &quot;30px&quot;,</span><br><span class="line">        &quot;background-color&quot;: &quot;#3385FF&quot;,</span><br><span class="line">        &quot;position&quot;: &quot;absolute&quot;,</span><br><span class="line">        &quot;left&quot;: rulerOp+&quot;px&quot;</span><br><span class="line">    &#125;</span><br><span class="line">    addStyle(ruler,rulerStyle);</span><br><span class="line">    rulerBox.appendChild(ruler);</span><br><span class="line">    //标尺</span><br><span class="line">    var mycanvas=document.createElement(&quot;canvas&quot;);</span><br><span class="line">    rulerBox.appendChild(mycanvas);</span><br><span class="line">    mycanvas.width=5000;</span><br><span class="line">    mycanvas.height=50;</span><br><span class="line">    var canvasStyle=&#123;</span><br><span class="line">        // &quot;margin-left&quot;:&quot;50px&quot;,</span><br><span class="line">        &quot;position&quot;: &quot;relative&quot;,</span><br><span class="line">        &quot;z-index&quot;:&quot;55&quot;,</span><br><span class="line">        &quot;left&quot;: (-num*10+rulerOp)+&quot;px&quot;,</span><br><span class="line">    &#125;</span><br><span class="line">    addStyle(mycanvas,canvasStyle);</span><br><span class="line">    var ctx=mycanvas.getContext(&quot;2d&quot;);</span><br><span class="line">    // 刻度为1</span><br><span class="line">    for(var i=0;i&lt;maxnum;)&#123;</span><br><span class="line">        ctx.beginPath();</span><br><span class="line">        ctx.moveTo(i+1,10);</span><br><span class="line">        ctx.lineTo(i+1,25);</span><br><span class="line">        ctx.closePath();</span><br><span class="line">        ctx.stroke();//绘制路径</span><br><span class="line">        i=i+10;</span><br><span class="line">    &#125;</span><br><span class="line">    // 刻度为5</span><br><span class="line">    for(var i=0;i&lt;=maxnum;)&#123;</span><br><span class="line">        ctx.beginPath();</span><br><span class="line">        ctx.moveTo(i+1,10);</span><br><span class="line">        ctx.lineTo(i+1,30);</span><br><span class="line">        ctx.closePath();</span><br><span class="line">        ctx.stroke();//绘制路径</span><br><span class="line">        i=i+50;</span><br><span class="line">    &#125;</span><br><span class="line">    // 刻度为10</span><br><span class="line">    for(var i=0;i&lt;=maxnum;)&#123;</span><br><span class="line">        ctx.beginPath();</span><br><span class="line">        ctx.moveTo(i+1,10);</span><br><span class="line">        ctx.lineTo(i+1,35);</span><br><span class="line">        ctx.closePath();</span><br><span class="line">        ctx.stroke();//绘制路径</span><br><span class="line">        i=i+100;</span><br><span class="line">    &#125;</span><br><span class="line">    //标尺文字</span><br><span class="line">    for(var i=0;i&lt;=maxnum/10;)&#123;</span><br><span class="line">        ctx.fillText(i,i*10,45);</span><br><span class="line">        i=i+10;</span><br><span class="line">    &#125;</span><br><span class="line">    var startX,startY,moveX,moveY,endX=0,endY,distanceX,distanceY,distanceEnd=-num*10+rulerOp;</span><br><span class="line">    mycanvas.addEventListener(&quot;touchstart&quot;, function(e) &#123;</span><br><span class="line">        startX = e.touches[0].pageX;//开始时的x坐标</span><br><span class="line">        startY = e.touches[0].pageY;//开始时的y坐标</span><br><span class="line">    &#125;)</span><br><span class="line">    mycanvas.addEventListener(&quot;touchmove&quot;, function(e) &#123;</span><br><span class="line">        console.log(mycanvas.offsetLeft);</span><br><span class="line">        </span><br><span class="line">        if(mycanvas.offsetLeft&lt;=rulerOp&amp;&amp;Math.abs(mycanvas.offsetLeft)&lt;=maxnum-rulerOp)&#123;</span><br><span class="line">            moveX = e.touches[0].pageX;//滑动时的x坐标</span><br><span class="line">            moveY = e.touches[0].pageY;//滑动时的y坐标</span><br><span class="line">            distanceX=moveX-startX+distanceEnd;//滑动时的x距离</span><br><span class="line">            distanceY=startY-moveY;//滑动时的y距离</span><br><span class="line">            </span><br><span class="line">                console.log(distanceX);</span><br><span class="line">                </span><br><span class="line">                // mycanvas.style.transform=&quot;translateX(&quot;+distanceX+&quot;px)&quot;;</span><br><span class="line">                mycanvas.style.left=(distanceX)+&quot;px&quot;;</span><br><span class="line">                console.log(distanceX);</span><br><span class="line">                </span><br><span class="line">                if(distanceX-rulerOp&gt;0)&#123;</span><br><span class="line">                    rulerShow.innerHTML=Math.floor((distanceX+rulerOp)/10);</span><br><span class="line">                &#125;else&#123;</span><br><span class="line">                    rulerShow.innerHTML=-Math.floor((distanceX-rulerOp)/10);</span><br><span class="line">                &#125;</span><br><span class="line">            </span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">    mycanvas.addEventListener(&quot;touchend&quot;, function(e) &#123;</span><br><span class="line">        if(mycanvas.offsetLeft&gt;rulerOp)&#123;</span><br><span class="line">            rulerShow.innerHTML=0;</span><br><span class="line">            mycanvas.style.left=rulerOp+&quot;px&quot;;</span><br><span class="line">        &#125;else if(Math.abs(mycanvas.offsetLeft)&gt;maxnum-rulerOp)&#123;</span><br><span class="line">            rulerShow.innerHTML=maxnum/10;</span><br><span class="line">            mycanvas.style.left=(-maxnum+rulerOp)+&quot;px&quot;;</span><br><span class="line">        &#125;</span><br><span class="line">        endX=e.changedTouches[0].pageX;//滑动结束的x坐标</span><br><span class="line">        distanceEnd=distanceX;//记录滑动的距离</span><br><span class="line">    &#125;)</span><br><span class="line">    function addStyle(ruler,styleObj) &#123;//样式修改</span><br><span class="line">        for(let i in styleObj)&#123;</span><br><span class="line">            ruler.style[i]=styleObj[i];</span><br><span class="line">        &#125; </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;实现了标尺滑动，加减标尺坐标等功能&lt;br&gt;使用：&lt;br&gt;在html上写一个div盒子，并引用js即可&lt;br&gt;html：&lt;br&gt;
    
    </summary>
    
      <category term="animate  js" scheme="http://renguowei.gitee.io/rgwblog/categories/animate-js/"/>
    
    
      <category term="animate  js" scheme="http://renguowei.gitee.io/rgwblog/tags/animate-js/"/>
    
  </entry>
  
  <entry>
    <title>vue项目搭建</title>
    <link href="http://renguowei.gitee.io/rgwblog/2019/05/04/vue1/"/>
    <id>http://renguowei.gitee.io/rgwblog/2019/05/04/vue1/</id>
    <published>2019-05-04T09:43:54.000Z</published>
    <updated>2019-05-05T09:51:46.955Z</updated>
    
    <content type="html"><![CDATA[<p>首先，请确认你的电脑有node，如果没有，请先去<a href="http://nodejs.cn/download/" target="_blank" rel="noopener">http://nodejs.cn/download/</a>  下载安装node，<br>安装完成之后，打开cmd命令窗口，用node -v检测node是否安装成功，npm -v检测npm是否安装成功，出现如:<br><a id="more"></a><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">C:\Users\Administrator&gt;node -v</span><br><span class="line">v10.15.1</span><br><span class="line"></span><br><span class="line">C:\Users\Administrator&gt;npm -v</span><br><span class="line">6.4.1</span><br></pre></td></tr></table></figure></p><p>则说明安装成功</p><p>然后，使用以下命令全局安装vue-cli<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">npm install -g vue-cli </span><br><span class="line">或者使用国内的淘宝镜像 </span><br><span class="line">npm install -g cnpm --registry=https://registry.npm.taobao.org</span><br></pre></td></tr></table></figure></p><p>再然后，使用命令vue init webpack vue-demo 搭建vue项目, “vue-demo” 是你的项目名称<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">vue&gt; vue init webpack myvue</span><br><span class="line"></span><br><span class="line">? Project name myvue</span><br><span class="line">? Project description A Vue.js project</span><br><span class="line">? Author renguowei &lt;18135185792@163.com&gt;</span><br><span class="line">? Vue build (Use arrow keys)</span><br><span class="line">&gt; Runtime + Compiler: recommended for most users</span><br><span class="line">  Runtime-only: about 6KB lighter min+gzip, but templates (or any Vue-specific HTML) are ONLY allowed in .vue files - render functions are</span><br><span class="line">required elsewhere</span><br></pre></td></tr></table></figure></p><p>会有vue的一些配置，可以一直回车，也可以全部选no，之后需要的时候在进行安装<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">? Install vue-router? No</span><br><span class="line">? Use ESLint to lint your code? No</span><br><span class="line">? Set up unit tests No</span><br><span class="line">? Setup e2e tests with Nightwatch? No</span><br></pre></td></tr></table></figure></p><p>最后，使用npm run dev启动项目就可以了<br>现在，在浏览器打开<a href="http://localhost:8080" target="_blank" rel="noopener">http://localhost:8080</a></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;首先，请确认你的电脑有node，如果没有，请先去&lt;a href=&quot;http://nodejs.cn/download/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;http://nodejs.cn/download/&lt;/a&gt;  下载安装node，&lt;br&gt;安装完成之后，打开cmd命令窗口，用node -v检测node是否安装成功，npm -v检测npm是否安装成功，出现如:&lt;br&gt;
    
    </summary>
    
      <category term="vue" scheme="http://renguowei.gitee.io/rgwblog/categories/vue/"/>
    
    
      <category term="vue" scheme="http://renguowei.gitee.io/rgwblog/tags/vue/"/>
    
  </entry>
  
  <entry>
    <title>前端定位实现</title>
    <link href="http://renguowei.gitee.io/rgwblog/2019/05/03/getlocal/"/>
    <id>http://renguowei.gitee.io/rgwblog/2019/05/03/getlocal/</id>
    <published>2019-05-03T08:19:57.000Z</published>
    <updated>2019-05-04T10:50:03.663Z</updated>
    
    <content type="html"><![CDATA[<p>首先，需要引入百度api</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;script type=<span class="string">"text/javascript"</span> src=<span class="string">"http://api.map.baidu.com/api?v=1.2&amp;ak=密匙"</span>&gt;&lt;/script&gt;</span><br></pre></td></tr></table></figure><a id="more"></a><p>在vue项目中需要把api改为getscript</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;script type=<span class="string">"text/javascript"</span> src=<span class="string">"http://api.map.baidu.com/getscript?v=1.2&amp;ak=密匙"</span>&gt;&lt;/script&gt;</span><br></pre></td></tr></table></figure><p>h5定位</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getlocal</span>(<span class="params">getlocalSuccess</span>) </span>&#123;</span><br><span class="line">    <span class="comment">//首先设置默认城市</span></span><br><span class="line">    <span class="keyword">var</span> defCity = &#123;</span><br><span class="line">        id: <span class="string">'000001'</span>,</span><br><span class="line">        city: <span class="string">'北京'</span>,</span><br><span class="line">        province: <span class="string">""</span>,</span><br><span class="line">        district: <span class="string">""</span></span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="keyword">if</span> (navigator.geolocation) &#123;</span><br><span class="line">        navigator.geolocation.getCurrentPosition(</span><br><span class="line">            <span class="function"><span class="keyword">function</span> (<span class="params">position</span>) </span>&#123;</span><br><span class="line">              <span class="comment">//获取地理位置成功时所做的处理</span></span><br><span class="line">                <span class="keyword">var</span> lat = position.coords.latitude;<span class="comment">//估计精度</span></span><br><span class="line">                <span class="keyword">var</span> lon = position.coords.longitude;<span class="comment">//估计纬度</span></span><br><span class="line">                <span class="keyword">var</span> point = <span class="keyword">new</span> BMap.Point(lon, lat); <span class="comment">// 创建点坐标</span></span><br><span class="line">                <span class="keyword">var</span> gc = <span class="keyword">new</span> BMap.Geocoder();</span><br><span class="line">                </span><br><span class="line">                gc.getLocation(point, <span class="function"><span class="keyword">function</span> (<span class="params">rs</span>) </span>&#123;</span><br><span class="line">                    <span class="keyword">var</span> addComp = rs.addressComponents;</span><br><span class="line">                    <span class="keyword">var</span> curCity = &#123;</span><br><span class="line">                        id: <span class="string">''</span>,</span><br><span class="line">                        city: addComp.city,</span><br><span class="line">                        province: addComp.province,</span><br><span class="line">                        district: addComp.district</span><br><span class="line">                    &#125;</span><br><span class="line">                    </span><br><span class="line">                    <span class="keyword">if</span> (getlocalSuccess != <span class="literal">undefined</span>) &#123;</span><br><span class="line">                        getlocalSuccess(curCity);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;)</span><br><span class="line">            &#125;,</span><br><span class="line">            <span class="function"><span class="keyword">function</span> (<span class="params">error</span>) </span>&#123;</span><br><span class="line">            <span class="comment">//获取地理位置失败时所做的处理</span></span><br><span class="line">                <span class="keyword">switch</span> (error.code) &#123;</span><br><span class="line">                    <span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">                        alert(<span class="string">"位置服务被拒绝。"</span>);</span><br><span class="line">                        <span class="keyword">break</span>;</span><br><span class="line">                    <span class="keyword">case</span> <span class="number">2</span>:</span><br><span class="line">                        alert(<span class="string">"暂时获取不到位置信息。"</span>);</span><br><span class="line">                        <span class="keyword">break</span>;</span><br><span class="line">                    <span class="keyword">case</span> <span class="number">3</span>:</span><br><span class="line">                        alert(<span class="string">"获取位置信息超时。"</span>);</span><br><span class="line">                        <span class="keyword">break</span>;</span><br><span class="line">                    <span class="keyword">default</span>:</span><br><span class="line">                        alert(<span class="string">"未知错误。"</span>);</span><br><span class="line">                        <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            )</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (getlocalSuccess != <span class="literal">undefined</span>) &#123;</span><br><span class="line">            getlocalSuccess(defCity);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>百度定位通过ip地址定位<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> myCity = <span class="keyword">new</span> BMap.LocalCity();</span><br><span class="line">myCity.get(relocation);</span><br><span class="line"><span class="comment">//初始化定位</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">relocation</span>(<span class="params">result</span>) </span>&#123;</span><br><span class="line">    that.address = result.name;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;首先，需要引入百度api&lt;/p&gt;
&lt;figure class=&quot;highlight js&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&amp;lt;script type=&lt;span class=&quot;string&quot;&gt;&quot;text/javascript&quot;&lt;/span&gt; src=&lt;span class=&quot;string&quot;&gt;&quot;http://api.map.baidu.com/api?v=1.2&amp;amp;ak=密匙&quot;&lt;/span&gt;&amp;gt;&amp;lt;/script&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
    
    </summary>
    
      <category term="前端js" scheme="http://renguowei.gitee.io/rgwblog/categories/%E5%89%8D%E7%AB%AFjs/"/>
    
    
      <category term="前端js" scheme="http://renguowei.gitee.io/rgwblog/tags/%E5%89%8D%E7%AB%AFjs/"/>
    
  </entry>
  
  <entry>
    <title>第一次</title>
    <link href="http://renguowei.gitee.io/rgwblog/2019/05/02/first/"/>
    <id>http://renguowei.gitee.io/rgwblog/2019/05/02/first/</id>
    <published>2019-05-02T07:32:09.000Z</published>
    <updated>2019-05-02T08:34:20.112Z</updated>
    
    <content type="html"><![CDATA[<p>使用hexo+码云搭建的的个人博客网站，这是测试文章</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;使用hexo+码云搭建的的个人博客网站，这是测试文章&lt;/p&gt;

      
    
    </summary>
    
    
  </entry>
  
</feed>
